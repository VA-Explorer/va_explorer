<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="IT Support" href="it_guides.html" /><link rel="prev" title="User Roles" href="user_guides.html" />

    <!-- Generated with Sphinx 5.3.0 and Furo 2022.12.07 -->
        <title>The Admin Role - VA Explorer Docs</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=91d0f0d1c444bdcb17a68e833c7a53903343c195" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tweaks.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #282C34;
  --color-code-foreground: #ABB2BF;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #282C34;
  --color-code-foreground: #ABB2BF;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">VA Explorer Docs</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../_static/img/logo.png" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../_static/img/logo_white.png" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">VA Explorer Docs</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Usage</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../usage/getting_started/index.html">Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../usage/getting_started/installation.html">Installation &amp; Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/getting_started/config.html">Configuration &amp; Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/getting_started/tips.html">Tips &amp; Best Practices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../usage/features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/integrations.html">Integrations</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guides</span></p>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="general/index.html">General Information</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="general/roles.html">User Roles &amp; Capabilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/common_actions.html">Common Actions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user_guides.html">User Roles</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">The Admin Role</a></li>
<li class="toctree-l1"><a class="reference internal" href="it_guides.html">IT Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">Development</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Additional Info</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Extras</a></li>
<li class="toctree-l1"><a class="reference external" href="https://va-explorer.github.io/va_explorer/_static/VAExplorerDocs.pdf">Offline Docs</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="the-admin-role">
<h1>The Admin Role<a class="headerlink" href="#the-admin-role" title="Permalink to this heading">#</a></h1>
<section id="user-admin">
<h2>User Admin<a class="headerlink" href="#user-admin" title="Permalink to this heading">#</a></h2>
<p>As admin, you can create and manage user accounts. Each of these accounts will
have a role as described in <a class="reference internal" href="user_guides.html"><span class="doc std std-doc">User Roles and Capabilities</span></a>. Additionally,
there are workflows available to you as an admin to affect users as a group or
as individuals described below.</p>
<section id="loading-locations-for-geographic-access-support">
<h3>Loading Locations for Geographic Access Support<a class="headerlink" href="#loading-locations-for-geographic-access-support" title="Permalink to this heading">#</a></h3>
<p>To set up VA Explorer for the Geographic Access mentioned in that section, you
must load location data into the system.</p>
<p>Locations in VA Explorer follow an assumed three-level hierarchical structure
by which each facility or hospital maps to an associated Level 2 (“District”)
and Level 1 (“Province”) hierarchy. Each facility also has a corresponding
<code class="docutils literal notranslate"><span class="pre">key</span></code>, which represents the XML option used in the dropdown list within ODK or
Kobo, and a <code class="docutils literal notranslate"><span class="pre">status</span></code> which indicates if the Facility is actively producing VAs
or not.</p>
<p>The table below shows an example location hierarchy for States, Counties, and
Cities in the United States. In this example, we have one state (California), two
counties (Marin and Los Angeles), and three cities (Sausalito, San Rafael, and
Los Angeles).</p>
<div class="table-wrapper docutils container" id="id1">
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">An example geographic hierarchy in tabular format</span><a class="headerlink" href="#id1" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Province</p></th>
<th class="head"><p>District</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Key</p></th>
<th class="head"><p>Status</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>California</p></td>
<td><p>Marin County</p></td>
<td><p>Sausalito Hospital</p></td>
<td><p>sausalito_hospital</p></td>
<td><p>Active</p></td>
</tr>
<tr class="row-odd"><td><p>California</p></td>
<td><p>Marin County</p></td>
<td><p>San Rafael Clinic</p></td>
<td><p>san_rafael_clinic</p></td>
<td><p>Inactive</p></td>
</tr>
<tr class="row-even"><td><p>California</p></td>
<td><p>Los Angeles County</p></td>
<td><p>Los Angeles Hospital</p></td>
<td><p>los_angeles_hospital</p></td>
<td><p>Active</p></td>
</tr>
</tbody>
</table>
</div>
<p>The input is similarly structured to support any number of geographic hierarchies
for VA Explorer users. With a <a class="reference internal" href="../reference.html#term-CSV"><span class="xref std std-term">CSV</span></a> file in hand, you can now supplement
your initial system set up with the <code class="docutils literal notranslate"><span class="pre">load_locations</span></code> management command. Full
usage details for this are provided in <a class="reference internal" href="#management-commands"><span class="std std-doc">Management Commands</span></a>.
The specification of the input CSV file is as follows:</p>
<div class="table-wrapper docutils container" id="id2">
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">Expected columns for the location file</span><a class="headerlink" href="#id2" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Column Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Specifics</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Province</p></td>
<td><p>Level 1 Administrative Boundary Name</p></td>
<td><p>One of the <code class="docutils literal notranslate"><span class="pre">label::English</span></code> values as defined in the VA XLSForm</p></td>
</tr>
<tr class="row-odd"><td><p>District</p></td>
<td><p>Level 2 Administrative Boundary Name</p></td>
<td><p>One of the <code class="docutils literal notranslate"><span class="pre">label::English</span></code> values as defined in the VA XLSForm</p></td>
</tr>
<tr class="row-even"><td><p>Name</p></td>
<td><p>Facility or Hospital Name</p></td>
<td><p>One of the <code class="docutils literal notranslate"><span class="pre">label::English</span></code> values as defined in the VA XLSForm</p></td>
</tr>
<tr class="row-odd"><td><p>Key</p></td>
<td><p>Facility or Hospital XML Value</p></td>
<td><p>The choice name associated with the</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">label::English</span></code> defined in the previous column Status</p></td>
<td><p>Whether the facility is</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>still actively producing VAs</p></td>
<td><p>One of: ‘Active’ or ‘Inactive’</p></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p>Following this command, VA Explorer should support geographic restrictions to any
area or facility you’ve provide, making them available during user creation and
editing. Note that access to geographies higher up in the given tree equates to
access for that geographic area as well as all its children-geographies. For
example, in the above tree a user with access to California also has access to
Marin County, Los Angeles County, Sausalito, San Rafael, and Los Angeles.</p>
<section id="updating-locations-in-va-explorer">
<h4>Updating locations in VA Explorer<a class="headerlink" href="#updating-locations-in-va-explorer" title="Permalink to this heading">#</a></h4>
<p>When VAs are imported into VA Explorer, they are matched exactly on the
locations loaded into the system in this step. If a VA does not have a valid
location field, VA Explorer will track that mismatch as an error that either
needs to be corrected in the VA Explorer locations file or in the underlying
VA data. To add a location to VA Explorer, re-upload a revised location file
following the <code class="docutils literal notranslate"><span class="pre">load_locations</span></code> management command.  If a row is deleted from
the locations file, it will also be kept in VA Explorer and marked inactive.
To permanently delete locations in VA Explorer, re-upload a revised location
file following the <code class="docutils literal notranslate"><span class="pre">load_locations</span></code> management command with <code class="docutils literal notranslate"><span class="pre">--delete_previous</span></code>.
Warning: doing so may delete all VAs in the database, so make sure to
backup the system first.</p>
</section>
</section>
<section id="creating-editing-users">
<h3>Creating &amp; Editing Users<a class="headerlink" href="#creating-editing-users" title="Permalink to this heading">#</a></h3>
<p>Click “Users” in the navigation bar to visit the Users page. Click the “Create
User” button to access the user creation form. Alternatively, click the “Edit”
button in the table row for the user you would like to edit. Required fields are
marked with an asterisk(*). To fill in the form:</p>
<ol class="arabic simple">
<li><p>Enter the user’s name</p></li>
<li><p>Enter the user’s email address. An email address can be used in the system once</p></li>
<li><p>Choose the user’s role from the dropdown menu</p></li>
<li><p>Check “Can View PII” if the user is allowed to view <a class="reference internal" href="../reference.html#term-PII"><span class="xref std std-term">PII</span></a> in the system. Also
check “Can Download Data” if the should be allowed to export <a class="reference internal" href="../reference.html#term-VA"><span class="xref std std-term">VA</span></a> data from the
system. See <a class="reference internal" href="general/roles.html#abilities-to-download-and-view-pii-data"><span class="std std-doc">Abilities to Download and View PII Data</span></a>
for details on these permissions if needed</p></li>
<li><p>Select the geographic region(s), facility, facilities this user can access.
Users with a Field Worker role must be assigned to at least one facility</p></li>
</ol>
<p>Click “Create” to create the user or “Update” if editing a user. “Cancel” will
take you back to the Users page without completing the action.</p>
<p>When the “Create” button is clicked during the “Create” process or the “Update”
button is clicked during the “Edit” process, VA Explorer validates the information
you have entered. If there are errors associated with the provided data, VA
Explorer will not create or update the user and the system will show error messages
in red underneath the fields that require correction. Follow instructions to
correct these errors and complete the user creation or edit process if needed.</p>
</section>
<section id="deactivating-users">
<h3>Deactivating Users<a class="headerlink" href="#deactivating-users" title="Permalink to this heading">#</a></h3>
<p>User accounts are deactivated rather than deleted from VA Explorer. When a user
account is deactivated, they will no longer be able to sign into the system.
Their associated data, however, will still be visible. To deactivate a user,
click “Users” in the navigation bar to visit the Users page. Click the “Edit”
button in the table row for the user you would like to deactivate. Uncheck the
“Active” checkbox. Click “Update.” The user will now be deactivated.</p>
</section>
<section id="bulk-creating-users">
<h3>Bulk Creating Users<a class="headerlink" href="#bulk-creating-users" title="Permalink to this heading">#</a></h3>
<p>If you would like to create multiple users at once, particularly during initial
system set up, VA Explorer provides that functionality as a management command.
Please refer to <a class="reference internal" href="#management-commands"><span class="std std-doc">Management Commands</span></a> for details on running
<code class="docutils literal notranslate"><span class="pre">get_user_form_template</span></code> and <code class="docutils literal notranslate"><span class="pre">bulk_load_users</span></code> to obtain a bulk user creation
template and to create your set of users based on that input file.</p>
</section>
</section>
<section id="data-admin">
<h2>Data Admin<a class="headerlink" href="#data-admin" title="Permalink to this heading">#</a></h2>
<p>As admin, you have full access to all data-related actions. Each step of the
process, from import to editing, to export has workflows available to you as an
admin to affect it as needed.</p>
<section id="manually-importing-data">
<h3>Manually Importing Data<a class="headerlink" href="#manually-importing-data" title="Permalink to this heading">#</a></h3>
<p>If you would like to manually import data from file, (perhaps if troubleshooting
the automatic import process) VA Explorer supports this through the <code class="docutils literal notranslate"><span class="pre">load_va_csv</span></code>
management command. Please refer to <a class="reference internal" href="#management-commands"><span class="std std-doc">Management Commands</span></a>
for details on usage.</p>
<p>Similarly, if you have configured VA Explorer to integrate with <a class="reference internal" href="../reference.html#term-ODK"><span class="xref std std-term">ODK</span></a> and would
like to manually import data from <a class="reference internal" href="../reference.html#term-ODK"><span class="xref std std-term">ODK</span></a>, VA Explorer also supports this. Use
<code class="docutils literal notranslate"><span class="pre">import_from_odk</span></code> similarly detailed in <a class="reference internal" href="#management-commands"><span class="std std-doc">Management Commands</span></a></p>
</section>
<section id="manually-running-coding-algorithms">
<h3>Manually Running Coding Algorithms<a class="headerlink" href="#manually-running-coding-algorithms" title="Permalink to this heading">#</a></h3>
<p>VA Explorer currently supports the InterVA5 coding algorithm and its associated
settings to assign cause of death (<a class="reference internal" href="../reference.html#term-COD"><span class="xref std std-term">COD</span></a>) and may support other coding algorithms
in the future such as InSilicoVA. The InterVA5 coding algorithm depends on the
docker services as described in <a class="reference internal" href="../usage/integrations.html#algorithm-support"><span class="std std-doc">Algorithm Support</span></a></p>
<p>To run InterVA5 manually, use <code class="docutils literal notranslate"><span class="pre">run_coding_algorithms</span></code> or see the entry for it in
<a class="reference internal" href="#management-commands"><span class="std std-doc">Management Commands</span></a> for full usage details. After the
command has finished execution, a brief report of results should be printed to
console used to run the management command (ex. Coded 24 verbal autopsies
(out of 30) [6 issues]) or an error message if pyCrossVA or InterVA5 are somehow
unavailable; if that is the case, please refer to the
<a class="reference internal" href="troubleshooting.html"><span class="doc std std-doc">Troubleshooting</span></a> section.</p>
</section>
</section>
<section id="management-commands">
<h2>Management Commands<a class="headerlink" href="#management-commands" title="Permalink to this heading">#</a></h2>
<p>Beyond actions supported by the VA Explorer interface, there are a series of
management commands available exclusively to developers, admins, and <a class="reference internal" href="../reference.html#term-IT"><span class="xref std std-term">IT</span></a> staff
helping to maintain the service. To take advantage of these special commands,
admins and <a class="reference internal" href="../reference.html#term-IT"><span class="xref std std-term">IT</span></a> staff need to, from the server hosting the VA Explorer instance,
enter VA Explorer’s main Django container like so
<code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">exec</span> <span class="pre">-it</span> <span class="pre">va_explorer_django_1</span> <span class="pre">bash</span></code>. From there <code class="docutils literal notranslate"><span class="pre">manage.py</span></code> is available
for calling the following commands via:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>manage.py<span class="w"> </span>&lt;command&gt;<span class="w"> </span>--&lt;parameter_name&gt;<span class="o">=</span>&lt;parameter_input&gt;
</pre></div>
</div>
<p>from within the container. Below is a selection of management commands,
generally useful to admins. An even fuller list of these can be found under
<a class="reference internal" href="../develop.html#development-commands"><span class="std std-doc">Development Commands</span></a></p>
<div class="table-wrapper colwidths-given docutils container" id="id3">
<table class="docutils align-default" id="id3">
<caption><span class="caption-text">Descriptions and lists of parameters for select management commands related to administration of VA Explorer</span><a class="headerlink" href="#id3" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 27%" />
<col style="width: 27%" />
<col style="width: 45%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" rowspan="2"><p> Command Name</p></th>
<th class="head"><p>Parameter Names</p></th>
<th class="head" rowspan="2"><p> Description</p></th>
</tr>
<tr class="row-even"><th class="head"><p><code class="docutils literal notranslate"><span class="pre">(*)</span></code> = Required</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td rowspan="2"><p> <code class="docutils literal notranslate"><span class="pre">load_va_csv</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">--csv_file</span></code> <code class="docutils literal notranslate"><span class="pre">(*)</span></code></p></td>
<td rowspan="2"><p> Used to manually import data from file to into VA Explorer’s
database. <code class="docutils literal notranslate"><span class="pre">csv_file</span></code> is a filename in the local folder or <code class="docutils literal notranslate"><span class="pre">unix:path</span></code>
format location of the file. Can be used with <code class="docutils literal notranslate"><span class="pre">random_locations</span></code> for
test or demo data to randomly assign the VA to a field worker with
specific location restrictions. <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>; defaults to
<code class="docutils literal notranslate"><span class="pre">False</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--random_locations</span></code></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p> <code class="docutils literal notranslate"><span class="pre">load_locations</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">--csv_file</span></code> (*)</p></td>
<td rowspan="2"><p> Used to load initial location data needed to support
Geographic access. <code class="docutils literal notranslate"><span class="pre">csv_file</span></code> is a filename in the local folder or
<code class="docutils literal notranslate"><span class="pre">unix:path</span></code> format location of the file. Can be used with
<code class="docutils literal notranslate"><span class="pre">delete_previous</span></code> to delete existing location data and start fresh with
the new locations being loaded. <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>; defaults to
<code class="docutils literal notranslate"><span class="pre">False</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--delete_previous</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">refresh_locations</span></code></p></td>
<td><p>None</p></td>
<td><p>Used to refresh the locations assigned to all of the VAs in
the database if a new location file is loaded into the system using the
<code class="docutils literal notranslate"><span class="pre">load_locations</span></code> management command. This command does not add or
delete any VAs from the database; it simply remaps the existing VAs
to the new locations.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">export_locations</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">--output_file</span></code></p></td>
<td><p>Utility to obtain the current list of locations in the VA
Explorer system in the CSV format with header fields
corresponding to fields expected by the system. The intended use case
for this utility is when administrators need to update the location file
by first downloading the existing locations, making any necessary updates,
and re-uploading a revised version using <code class="docutils literal notranslate"><span class="pre">load_locations</span></code>. <code class="docutils literal notranslate"><span class="pre">output_file</span></code>
is a filename or <code class="docutils literal notranslate"><span class="pre">unix:path</span></code> format location to save template to. Default is
<code class="docutils literal notranslate"><span class="pre">locations_[[date]].csv</span></code> where [[date]] is the date and time of export.</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p> <code class="docutils literal notranslate"><span class="pre">run_coding_algorithms</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">--overwrite</span></code></p></td>
<td><p>Used to call supported algorithms for assignment of cause of
death to all uncoded verbal autopsies. <code class="docutils literal notranslate"><span class="pre">overwrite</span></code> allows this command
to clear (and save) all existing CoD assignments before running on
every verbal autopsy regardless of whether it’s coded or not. <code class="docutils literal notranslate"><span class="pre">True</span></code> or
<code class="docutils literal notranslate"><span class="pre">False</span></code>; defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code> <code class="docutils literal notranslate"><span class="pre">cod_fname</span></code> is a filename or unix:path
format location to save the old CoDs to. Defaults to <code class="docutils literal notranslate"><span class="pre">old_cod_mapping.csv</span></code></p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><code class="docutils literal notranslate"><span class="pre">--cod_fname</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">get_user_form</span>
<span class="pre">_template</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">--output_file</span></code></p></td>
<td><p>Utility to obtain a bulk user creation template csv with header fields
corresponding to fields of the current User model. <code class="docutils literal notranslate"><span class="pre">output_file</span></code> is a
filename or <code class="docutils literal notranslate"><span class="pre">unix:path</span></code> format location to save template to. Default is
<code class="docutils literal notranslate"><span class="pre">user_form_fields.csv</span></code></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><p> <code class="docutils literal notranslate"><span class="pre">bulk_load_users</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">--user_list_file</span></code> <code class="docutils literal notranslate"><span class="pre">(*)</span></code></p></td>
<td rowspan="2"><p> Used to bulk create user accounts, assigning a temporary
password to each. <code class="docutils literal notranslate"><span class="pre">user_list_file</span></code> is a filename in the local folder or
<code class="docutils literal notranslate"><span class="pre">unix:path</span></code> format location of the users file. Can be used with
<code class="docutils literal notranslate"><span class="pre">email_confirmation</span></code> if an email server has been setup to automatically
send an email with the new temporary password to each created user.
<code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>; defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code> (prints to console instead so
passwords must manually be passed to users somehow)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--email_confirmation</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 27%" />
<col style="width: 45%" />
</colgroup>
<tbody>
<tr class="row-odd"><td rowspan="2"><p> <code class="docutils literal notranslate"><span class="pre">export_user_info</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">--output_file</span></code></p></td>
<td rowspan="2"><p> Used to export an anonymized (No PII) list of all users in the
system along with their roles and permissions. Useful for non-invasively
correlating user activity in VA Explorer logs. <code class="docutils literal notranslate"><span class="pre">output_file</span></code> is a
filename in the local folder or <code class="docutils literal notranslate"><span class="pre">unix:path</span></code> format location of the file
to export user info to. Defaults to <code class="docutils literal notranslate"><span class="pre">user_list.csv</span></code>. <code class="docutils literal notranslate"><span class="pre">user_file</span></code> is a
separate filename in the local folder or <code class="docutils literal notranslate"><span class="pre">unix:path</span></code> format location of
a <code class="docutils literal notranslate"><span class="pre">.txt</span></code> file containing emails (one per line) of specific users to
export. Defaults to all users if no file.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--user_file</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mark_vas_as</span>
<span class="pre">_duplicate</span></code></p></td>
<td><p>None</p></td>
<td><p>Used to manually run (or re-run if config is changed) duplicate checking
within VA Explorer. Contains no parameters as behavior is determined by
the configuration variable <code class="docutils literal notranslate"><span class="pre">QUESTIONS_TO_AUTODETECT_DUPLICATES</span></code> see
<a class="reference internal" href="../usage/getting_started/config.html#configuration-deployment"><span class="std std-ref">Configuration &amp; Deployment</span></a></p></td>
</tr>
</tbody>
</table>
</div>
<p>Additionally, if VA Explorer has been configured with integrations, the following
additional management commands are available. If the environment variables (see
<a class="reference internal" href="../usage/integrations.html"><span class="doc std std-doc">Integrations</span></a>) that enable these integrations to work
automatically are not defined, consider all parameters required for these
management commands.</p>
<div class="table-wrapper colwidths-given docutils container" id="id4">
<table class="docutils align-default" id="id4">
<caption><span class="caption-text">Descriptions and lists of parameters for select management commands related to integrations</span><a class="headerlink" href="#id4" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%" />
<col style="width: 20%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Command Name</p></th>
<th class="head"><p>Parameter Names</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="6"><p> <code class="docutils literal notranslate"><span class="pre">import_from_odk</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">--email</span></code></p></td>
<td rowspan="6"><p> Used to manually import VA data from ODK Central. Parameters
are as described for the equivalent environment variables listed in
<a class="reference internal" href="../usage/integrations.html#integrations"><span class="std std-ref">Integrations</span></a> &gt; <a class="reference internal" href="../usage/integrations.html#odk-central"><span class="std std-ref">ODK Central</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--password</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--project_name</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--project_id</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--form_id</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--form_name</span></code></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><p> <code class="docutils literal notranslate"><span class="pre">import_from_kobo</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">--token</span></code></p></td>
<td rowspan="2"><p> Used to manually import VA data from KoboToolbox. Parameters
are as described for the equivalent environment variables listed in
<a class="reference internal" href="../usage/integrations.html#integrations"><span class="std std-ref">Integrations</span></a> &gt; <a class="reference internal" href="../usage/integrations.html#kobotoolbox"><span class="std std-ref">KoboToolbox</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--asset_id</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">load_dhis_cod_codes</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">--csv_file</span></code></p></td>
<td><p>Used to manually setup VA Explorer to report WHO CoD Codes in the format
expected by DHIS2 and must be run before first export will succeed.
<code class="docutils literal notranslate"><span class="pre">csv_file</span></code> is a filename in the local folder or <code class="docutils literal notranslate"><span class="pre">unix:path</span></code> format
location of the csv file. csv file has the header
<code class="docutils literal notranslate"><span class="pre">codsource,codcode,codname,codid</span></code></p></td>
</tr>
<tr class="row-odd"><td rowspan="4"><p> <code class="docutils literal notranslate"><span class="pre">run_dhis</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">--dhis_user</span></code></p></td>
<td rowspan="4"><p> Used to manually export VA data to DHIS2. Parameters are as
described for the equivalent environment variables listed in
<a class="reference internal" href="../usage/integrations.html#integrations"><span class="std std-ref">Integrations</span></a> &gt; <a class="reference internal" href="../usage/integrations.html#dhis2"><span class="std std-ref">DHIS2</span></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--dhis_pass</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--dhis_url</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--dhis_orgunit</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="it_guides.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">IT Support</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="user_guides.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">User Roles</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2020-2023, MITRE Licensed under Apache 2.0
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/VA-Explorer/va_explorer" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">The Admin Role</a><ul>
<li><a class="reference internal" href="#user-admin">User Admin</a><ul>
<li><a class="reference internal" href="#loading-locations-for-geographic-access-support">Loading Locations for Geographic Access Support</a><ul>
<li><a class="reference internal" href="#updating-locations-in-va-explorer">Updating locations in VA Explorer</a></li>
</ul>
</li>
<li><a class="reference internal" href="#creating-editing-users">Creating &amp; Editing Users</a></li>
<li><a class="reference internal" href="#deactivating-users">Deactivating Users</a></li>
<li><a class="reference internal" href="#bulk-creating-users">Bulk Creating Users</a></li>
</ul>
</li>
<li><a class="reference internal" href="#data-admin">Data Admin</a><ul>
<li><a class="reference internal" href="#manually-importing-data">Manually Importing Data</a></li>
<li><a class="reference internal" href="#manually-running-coding-algorithms">Manually Running Coding Algorithms</a></li>
</ul>
</li>
<li><a class="reference internal" href="#management-commands">Management Commands</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/design-tabs.js"></script>
    </body>
</html>